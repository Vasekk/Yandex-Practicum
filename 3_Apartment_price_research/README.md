# Исследование стоимости квартир
Имеются данные сервиса недвижимости — архив объявлений о продаже квартир в Санкт-Петербурге и соседних населённых пунктах за несколько лет. 
## Цель
Нужно научиться определять рыночную стоимость объектов недвижимости. 
Главная задача — определить основные факторы для построения автоматизированной системы, отслеживающей аномалии и мошенническую деятельность.
## Данные 
Данные храняться в файле datasets/real_estate_data.csv. Часть данных заполнена пользователем, а часть заполнена автоматически по картам (расстояние до центра, аэропорта, ближайшего парка и водоёма). Описание данных:

- airports_nearest — расстояние до ближайшего аэропорта в метрах (м)
- balcony — число балконов
- ceiling_height — высота потолков (м)
- city_centers_nearest — расстояние до центра города (м)
- days_exposition — сколько дней было размещено объявление (от публикации до снятия)
- first_day_exposition — дата публикации
- floor — этаж
- floors_total — всего этажей в доме
- is_apartment — апартаменты (булев тип)
- kitchen_area — площадь кухни в квадратных метрах (м²)
- last_price — цена на момент снятия с публикации
- living_area — жилая площадь в квадратных метрах (м²)
- locality_name — название населённого пункта
- open_plan — свободная планировка (булев тип)
- parks_around3000 — число парков в радиусе 3 км
- parks_nearest — расстояние до ближайшего парка (м)
- ponds_around3000 — число водоёмов в радиусе 3 км
- ponds_nearest — расстояние до ближайшего водоёма (м)
- rooms — число комнат
- studio — квартира-студия (булев тип)
- total_area — площадь квартиры в квадратных метрах (м²)
- total_images — число фотографий квартиры в объявлении
## План работы
Загрузка данных
Предобработка данных
Исседовательский анализ данных
Общий вывод

Для исследования использованы библиотеки Pandas и seaborn.

## Итоги исследования 

1. Загружены и изучены данные из файла. В таблице 23699 записей по 22 параметра, в 14 столбцах присутствуют пропуски, 14 столбцов вещественных значений. 
2. Предобработка данных. Проанализированы и заполнены пропуски в данных. преобразованы типы данных

3. Выполнен дорасчет следующих параметров:
- Цена квадратного метра
- День недели, месяц и год публикации объявления
- Этаж квартиры; варианты — первый, последний, другой
- Соотношение жилой и общей площади, а также отношение площади кухни к общей

4.  Исследовательский анализ данных

4.1.  Анализ параметров: площадь, цена, число комнат, высота потолков

Площади общая и кухни имеют Пуассоновское распределение, жилплощадь мультимодальная. Заполнение пропущенных значений жилплощади усилило медианы, в целом не сильно исказило распределение. Распределения всех площадей имеют длинные хвосты, т.к. максимальные значения в 10 и более раз больше медианных. Распределение цен и комнат пуассоновское, в комнатах есть значение 0, в этих объявлениях пропущена площадь кухни. Высота мультимодальная. В высоте остались выбивающиеся значения 16 и 100 м.

4.2.  Анализ времени продажи квартиры

Медианное время продажи 95 дней (3 месяца), Среднее время продажи 180 дней (полгода), 1 квартиль - 1,5 месяца, 3й - ~8 месяцев, типичное время (50 %) продаж от 1,5 до 8 месяцев. Существуют записи со сроком более 4 лет. В первые два дня очень мало продаж (4 из 20518), с третьего дня количество продаж увеличивается до ~160 в день и затем постепенно падает. Есть "особые" дни: на 45й день продают 4,2% квартир, на 60й - 2,6%, 7 - 1,1%, 30 и 90 - 1%.

4.3.  Редкие и выбивающиеся значения

Если убрать все заполненные значения(т.е. если удалять все пропуски), то останется только 2383 объявления. Поэтому необходимо исключать адресно, при анализе зависимостей. Распределения с длинным хвостом очищены от значений выше Q3 + 1,5IRQ

4.4.  Анализ влияния факторов на стоимость квартиры

Цена квартиры **зависит**:

- от цены за квадратный метр (прямая зависимость 0.63)
- от общей площади (0.68)
- от количества комнат (0.42)
- от расстояния до центра (0.29)



4.5.  Топ-10 населённых пунктов по числу объявлений

В 10 населённых пунктах с наибольшим числом объявлений максимальная медианная цена в СПБ (~ 104 т.р./м.кв.), минимальная в Выборге (~ 58 т.р./м.кв.).

4.6.  Определение центральной зоны города

График средней цены становится плавным, начиная с 9-го километра, поэтому центральная зона 9 км

4.7.  Анализ факторов для квартир в центре

В центре цена за квартиру **зависит**: 
- от цены за квадратный метр (прямая зависимость, в центре зависимость значительно меньше, чем для всех квартир)
- высоты потолков (слабая прямая зависимость)
- от площади (общей, кухни и жилой - прямая)
- от числа комнат
- от типа этажа (медианы: первый этаж самый дешевый 101 т.р./м кв, потом последний 106 т.р./м кв, потом промежуточный 113 т.р./м кв)

Также отличие квартир в центре от всех квартир в изменении зависимости цены от расстояния до центра с прямой на слабую обратную. 

